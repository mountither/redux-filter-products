[{"/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/index.js":"1","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/reportWebVitals.js":"2","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/App.js":"3","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/store/index.js":"4","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/filterViews/FilterCollection.js":"5","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/utils/history.js":"6","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/filterViews/CheckboxFilter.js":"7","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/filterViews/utils/renderCheck.js":"8","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/saga/index.js":"9","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/reducers/index.js":"10","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/actions-example/index.js":"11","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/actions/index.js":"12","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/reducers/ProductFilterReducer.js":"13","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/filters/index.js":"14"},{"size":571,"mtime":1614060699745,"results":"15","hashOfConfig":"16"},{"size":362,"mtime":1612352402630,"results":"17","hashOfConfig":"16"},{"size":592,"mtime":1614060538453,"results":"18","hashOfConfig":"16"},{"size":716,"mtime":1614042383944,"results":"19","hashOfConfig":"16"},{"size":11154,"mtime":1614060385387,"results":"20","hashOfConfig":"16"},{"size":87,"mtime":1614042383945,"results":"21","hashOfConfig":"16"},{"size":1412,"mtime":1614060606110,"results":"22","hashOfConfig":"16"},{"size":212,"mtime":1614042383940,"results":"23","hashOfConfig":"16"},{"size":2458,"mtime":1614062248267,"results":"24","hashOfConfig":"16"},{"size":238,"mtime":1614060440691,"results":"25","hashOfConfig":"16"},{"size":156,"mtime":1614062320308,"results":"26","hashOfConfig":"16"},{"size":2572,"mtime":1614060636381,"results":"27","hashOfConfig":"16"},{"size":4275,"mtime":1614060202768,"results":"28","hashOfConfig":"16"},{"size":3734,"mtime":1614060202768,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"oxo7t5",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"32"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":18,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"32"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"32"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"32"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"32"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},"/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/index.js",[],["65","66"],"/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/reportWebVitals.js",[],"/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/App.js",["67","68"],"import logo from './logo.svg';\nimport './App.css';\nimport FilterCollection from './filterViews/FilterCollection'\nimport { Switch, Route, Router, Link} from 'react-router-dom';\nimport history from './utils/history'\nimport { connect } from \"react-redux\";\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router history={history}>\n        <Switch>\n          <Route path='/products' render={() => <FilterCollection />}/> \n          <Route path='/' render={() => <Link to='/products'>Products</Link>}/>      \n\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/store/index.js",[],"/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/filterViews/FilterCollection.js",["69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86"],"import React, {useState, useEffect, useRef} from \"react\";\nimport { Collapse } from 'antd';\nimport CheckboxFilter from './CheckboxFilter'\nimport {useSelector, useDispatch} from 'react-redux'\nimport {increment} from '../actions-example'\nimport { Checkbox} from 'antd';\nimport { toggleFilter,fetchProductsIfNeeded, urlChange, fetchProducts} from '../actions';\nimport { Link, useHistory, useLocation, Redirect} from 'react-router-dom'\nimport 'antd/dist/antd.css'\nimport { LoadingOutlined } from '@ant-design/icons';\nimport { Spin } from 'antd';\nimport {useDidMount} from \"./utils/renderCheck\";\nimport qs from 'query-string'\n\nlet render = 1;\n\nconst viewLimit = 4;\nconst resetPageNo = 1;\n\nconst FilterCollection = () =>{\n  const history = useHistory()\n  // const query = new URLSearchParams(history.location.search)\n\n\n  // const queryURL = qs.parse(history.location.search, {parseNumbers: true, arrayFormat:'comma'})\n  const queryToServer = qs.exclude(history.location.search, ['page']);\n  const parsedQuery = qs.parse(history.location.search,{parseNumbers: true, arrayFormat: 'comma'})\n  const dispatch = useDispatch()\n  const didMount = useDidMount();\n  const state = useSelector(state => state)\n  const pageNo = parseInt(parsedQuery.page) || 1;\n\n  \n  const {filterUrl, outcome, fetchedProducts} = state\n  \n  \n  const url1 = qs.stringify(outcome.meta.params, {arrayFormat: 'comma', skipNull: true, skipEmptyString: true});\n  const url = qs.exclude('?'+url1, ['page']);\n\n  console.log('URLLLLL', url);\n\n  const {isFetching, filters, data, meta} = outcome \n  // const {isFetching, data, filters, meta} = fetchedProducts[window.location.search]\n  // || \n  // { \n  //   isFetching: outcome.isFetching,\n  //   data: outcome.data,\n  //   meta: outcome.meta,\n  //   filters: outcome.filters\n  // }\n  \n  \n  // const [Filters, setFilters] = useState({\n  //   category: [],\n  //   brand: [],\n  //   finish: [],\n  //   hold: [],\n  //   hair: [],\n  // });\n \n  // console.log('query: ',qs.parse(history.location.search))\n  // const isFirstRender = useRef(true);\n\n  // useEffect(() => {\n  //   if (isFirstRender.current) {\n  //     isFirstRender.current = false;\n  //   } else {\n  //      console.log('users changed')\n  //      console.log(filterUrl)\n  //   }\n  // }, [filterUrl]);\n   \n    // const [Products, setProducts] = useState([]);\n    // const [IgnoreData, setIgnoreData] = useState(0);\n    // const [BoundData] = useState(4);\n    // const [OnPageSize, setOnPageSize] = useState();\n    // const [loading, setLoading] = useState(false);\n    // const [productAmount, setProductAmount] = useState();\n\n\n    \n    //  using saga instead\n    useEffect(() => {\n      // const pageNo = parseInt(query.get('page')) || 1;\n      \n      // initialise the page with all products \n      // the skip and limit are acknowledged with every render (sent to mongodb)      \n      // dispatch(fetchProductsIfNeeded({params: query.toString(), \n      //                                 config: {skip: 0, \n      //                                 limit: 4 * pageNo,\n      //                                 page: pageNo,\n      //                               }}))\n      // Object.keys(parsedQuery).map( field =>\n      //   parsedQuery[field]= Array.isArray(parsedQuery[field]) ? parsedQuery[field] : [parsedQuery[field]]\n      // )\n\n      // console.log('cleaned', parsedQuery);\n      // setFilters(Object.assign({}, Filters, parsedQuery ));\n\n      // console.log('url on inti', window.location.search);\n\n      // dispatch(fetchProductsIfNeeded({query: '?'+url,\n      //   config: {skip: 0, limit: viewLimit, page: resetPageNo,\n      // }\n      // }));\n    //   dispatch(fetchProductsIfNeeded({query: url ? '?'+url : '',\n    //   config: {skip: 0, limit: viewLimit, page: resetPageNo,\n    // }\n    // }));\n    }, []);\n    \n\n  console.log('PARSE fasD q', parsedQuery)\n\n  useEffect(()=> {\n    \n    dispatch(fetchProductsIfNeeded({query: url,\n    config: {skip: 0, limit: viewLimit, limit: 4 * pageNo, page: pageNo\n    }}));\n\n    history.push({\n      pathname: '/products/',\n      search: url1\n    })\n    \n  }, [meta.params])\n\nconst [ locationKeys, setLocationKeys ] = useState([])\n\n\nuseEffect(() => {\nconst query = '?'+qs.stringify(history.location.search, {arrayFormat: 'comma', skipNull: true, skipEmptyString: true})\n    \n    return history.listen((location, action) => {\n      // console.log('location in filt: ',location)\n      if (action === 'PUSH') {\n        setLocationKeys([ location.key ])\n      }\n\n      // currently/intialNav: [] - when back is hit: ['xxxx'] - back again: ['yyyy', 'xxxx']\n      // 'xxxx' key represents the intial point at which the back button is clicked. --back---'xxxx'-intial\n      // - foward: if the 2nd elem is equal to the current location key => go forward\n\n      // scenrio \n        // user clicks back btn, that appends a loc key in LocationKey arr. \n        // now, user wants to go foward after the prev back action. \n          // this will bypass the first condition, since theres only 1 elem. \n\n        // if intialising with a random key. the first back will append key in front. \n\n      if (action === 'POP') {\n        if (locationKeys[1] === location.key) {\n          setLocationKeys(([ _, ...keys ]) => keys)\n          console.log('the location keys in forward state: ', location.key)\n          console.log(\"foward\", locationKeys)\n          // redux must back to the most recent state\n          console.log(window.location.search);\n\n          // CALL WINDOW_NAV ACTION. old state will be used. Change will happen in this component. \n          // Id required to identify what location (browser) user is in.\n\n          // dispatch(fetchProductsIfNeeded(window.location.search))\n        }\n        else{\n          \n          setLocationKeys((keys) => [ location.key, ...keys ])\n        \n          console.log('the location keys in back state: ', location.key)\n\n          //redux must go back to the previous state. type : PREVIOUS_NAV_STATE\n          console.log('WINOD LOCLA',window.location.search);\n          // dispatch(fetchProductsIfNeeded(window.location.search))\n  \n        }\n    }\n    })\n  }, [locationKeys])\n\n \n  const onLoadMore = () => {\n    \n    // query.set('limit', 4);\n    // query.set('skip', 0);\n    // history.push({\n    //   pathname: '/products',\n    //   search: query.toString()\n    // })\n    \n    dispatch(fetchProductsIfNeeded({\n      params: queryToServer,\n      config: {skip: meta.skip,\n              limit: viewLimit,\n              page: meta.page,\n              loadMore: true}}))\n    // dispatch(urlChange(query.toString()))\n  }\n\n  useEffect(()=>{\n\n    if(didMount){\n      return \n    }\n\n    // query.set('page', meta.page)\n    qs.stringify({'page': meta.page})\n    // query.sort();\n    // pushParamToUrl();\n    // dispatch(urlChange(query.toString()))\n\n\n  }, [meta.page])\n\n\n//  this vs saga (INIT_PRODUCTS)?\n// useEffect(()=>{\n\n//   console.log(query.toString())\n//   const filtersFromUrl = Array.from(query.entries()).map((filter) => { return {id: parseInt(filter[1]), field:filter[0]}});\n\n//   console.log('from url: ',filtersFromUrl)\n\n//   filtersFromUrl.map((filter) => {\n//     return dispatch(toggleFilter(filter.id, filter.field))\n//   });\n\n// }, [])\n\n\n\n// const pushParamToUrl = (query) =>{\n  \n  \n// }\nconst handleChange = (value, field) => {\n  \n  // const currentIndex = Filtered[field].indexOf(value.id);\n  // Filters[field].push(value.id)\n  // setFilters({...Filters})\n  // push to history with updated params. \n  //    In this scenrio, the value id and field will be added or removed in params obj.\n  //    The params obj is updated and the query is stringfied and url is upd.\n  // const query = '?'+qs.stringify(outcome.meta.params, {arrayFormat: 'comma', skipNull: true, skipEmptyString: true})\n\n  // dispatch(urlChange(url))\n\n\n  // pushParamToUrl(qs.stringify(Filtered, {arrayFormat: 'comma'}));\n\n \n  \n\n\n  dispatch(toggleFilter(value.id, field, url,\n    value.active ? true : false,\n  ));\n  \n\n  \n  // the checkbox activ. is lagging due to prev store state. \n  // console.log('activity for ', field, value.id, value.active)\n\n  // query.set('page', resetPageNo);\n\n  // qs.stringify({'page': resetPageNo})\n\n  // dispatch(urlChange(filterUrl))\n  // console.log('uel filt in change ',filterUrl);\n\n  \n\n  // dispatch(urlChange(query.toString()))\n\n\n \n}\n\n\nconst antIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />;\n\nconst { Panel } = Collapse;\n\n\nreturn (\n       <>\n        <Link to=\"/\">Home</Link>\n        {\n          filters.map((type, i)=> {\n            \n            // if (type.field_name === \"cat\"){\n            //   console.log('obj reduce:', type.data.reduce((sum, next) => {return sum && next.active}))\n            // }\n            //type.input.some((sum)=>  sum.active )\n            return (\n              <div key={i}>\n                    <Collapse\n                      defaultActiveKey={type.filter_triggered ? type.field_name : ''} \n                      className={type.input.some((sum)=>  sum.active) ? 'highlight-border': ''}\n                    >\n          \n                {/* touched previous state tells whether either one  */}\n                        <Panel header={type.title} key={type.field_name}>\n                        {type.input.map((value, i) => {\n                          return (\n                            <Checkbox\n                              key={i}\n                              onChange={() => {handleChange(value, type.field_name)}}\n                              checked={value.active}>\n                              {value.name}\n                            </Checkbox>\n                            )\n                          })\n                        }\n                        </Panel>\n                    </Collapse>\n            \n                  </div>\n                    )\n            })\n        }\n\n       <Spin indicator={antIcon} spinning={isFetching} delay={500} tip={\"Fetching Products\"}/>\n\n          <div >\n            {!isFetching && <div>Amount of products {meta.count}</div>}\n            {meta.count == 0  && <div>No products to show</div>}\n            {\n            data.map(\n                (p,i) => { return (\n                  \n                    <div className=\"tiles-item\" key={i}>\n                        <div className=\"tiles-item-inner center-content\">\n                        <img \n                            // src={p.image}\n                            style={{width: \"300px\", height:'300px'}}\n                            />\n                        <div className=\"products-item-content\">\n                        {p.name} <br/>\n                        { p.fragrance ? <p className=\"text-xxs mt-16\">\n                        Smells Like: {p.fragrance}</p> : ''}\n                        <p className=\"text-xs mt-4\">{p.description}</p>\n                        </div>\n                        </div>\n                    </div>\n                        )\n                    }\n                )\n            }\n        </div>\n        {!data[meta.count - 1] && !isFetching &&\n          <div className=\"center-content mt-32\"><button onClick={onLoadMore}>Load More</button></div>\n          }   \n\n</> \n\n    )\n}\n\nexport default FilterCollection\n","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/utils/history.js",[],"/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/filterViews/CheckboxFilter.js",[],"/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/filterViews/utils/renderCheck.js",[],"/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/saga/index.js",["87","88","89","90","91","92","93","94","95","96"],"import { takeEvery, put, select, all, call, fork } from 'redux-saga/effects';\nimport { useLocation} from 'react-router-dom'\nimport {fetchProductsIfNeeded, fetchProducts, initFilters,urlChange} from '../actions';\nimport qs from \"query-string\";\n\n// this solves the issue of taking query direct from the window location, \n// rather than the redux router state.\n// when the init_app dispatch is used, the router values will be present,\n// we can alter and add the necessary values with this method.\nfunction* initApp(action) {\n    // url location is extracted (select) from the state.router \n\n    // const params = new URLSearchParams(window.location.search);\n    // console.log('PARAMS',qs.exclude(window.location.search, ['page']))\n    const queryURL = qs.parse(window.location.search,{parseNumbers: true, arrayFormat: 'comma'});\n    // const urlString = qs.stringify(window.location.search, {arrayFormat: 'comma', skipNull: true, skipEmptyString: true})\n\n    const queryToServer = qs.exclude(window.location.search, ['page']);\n    const pageNo = parseInt(queryURL.page) || 1;\n\n    // create an array of the items found in url.\n    // const filters = Array.from(params.entries()).map((filter) => { return {id: parseInt(filter[1]), field:filter[0]}});\n    // store the state router location retrieved from the url. \n    \n    // problem:\n            // when getting old state, the func iterates twice \n            // intial state is used for filters. \n            // yield all(filters.map((filter) =>  {return put(toggleFilter(filter.id, filter.field, params.toString()))}));\n            \n    // yield put(urlChange(window.location.search))\n            \n    if(Object.keys(queryURL).length> 0){\n\n        Object.keys(queryURL).map( field =>\n            queryURL[field]= Array.isArray(queryURL[field]) ? queryURL[field] : [queryURL[field]]\n        )\n        \n        yield put(initFilters(queryURL, window.location.search))\n    }        \n\n    // yield put(fetchProductsIfNeeded({\n    //     query: window.location.search,\n    //     config: {\n    //         skip: 0,\n    //         limit: 4 * pageNo,\n    //         page: pageNo,\n    //         loadMore:false,\n    //         // params: queryURL // (action) should be removed if not used in reducer\n    //     }\n    // }))\n    \n  \n    \n\n    return;\n}\n\n\n//this the watcher in middleware. \n// focuses on action \"INIT_APP\".\nfunction* mySaga() {\n    yield takeEvery(\"INIT_PRODUCTS\", initApp);\n}\n\nexport default mySaga;","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/reducers/index.js",[],"/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/actions-example/index.js",[],"/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/actions/index.js",["97"],"\nexport const toggleFilter = (id, name, url, deselect) => ({\n  type: 'TOGGLE_FILTER',\n  id: id, \n  field:name,\n  url: url,\n  deselect: deselect\n});\n\nexport const urlChange = (url) => ({\n  type:\"URL_CHANGE\",\n  url: url\n})\n\nexport const clearFilters = () => ({\n  type: 'CLEAR_FILTERS'\n})\n\nexport const browserChange = (result) => ({\n  type: 'WINDOW_NAV',\n  oldState: result\n})\n\nexport const initFilters = (params, url) => ({\n  type: 'INIT_FILTER_UI',\n  urlFilters: params,\n  url: url\n})\n\n//make url persist in store. action => \"URL_CHANGE\"\n\nexport const requestProducts = (filters) =>({\n  type: 'REQUEST_PRODUCTS',\n  url: filters.query,\n});\n\nexport const receiveProducts = (json, filters, results) =>({\n  type: 'RECEIVE_PRODUCTS',\n  data: json.prods,\n  meta: {\n    count: json.count,\n    limit: filters.config.limit,\n    skip: filters.config.skip,\n    loadMore: filters.config.loadMore,\n    page: filters.config.page,\n    params: results.meta.params,\n    ui: results.filters,\n  },\n  url: filters.query\n});\n\nexport const fetchProducts = (filters, ui) => (dispatch) => {\n  //dispatch a request for products\n  console.log('UIIIII', ui);\n  dispatch(requestProducts(filters))\n  // fetch the json product from server - port 8000\n  return fetch(`${process.env.REACT_APP_SERVER}:8000/api/products/${filters.query ? filters.query : '?'}&skip=${filters.config.skip}&limit=${filters.config.limit}`)\n  .then(response => response.json())\n  .then(json => {dispatch(receiveProducts(json, filters, ui));\n    // dispatch(urlChange(filters.params));\n    console.log(json);\n  })\n  // the recieved json objects need to be sent to \n  // dispatched to recieveProducts\n\n}\n\nexport const shouldFetchProducts = (state, filters) => {\n  // get the state of specific subreddit. \n  const prods = state.fetchedProducts[filters.query]\n\n  console.log('prods', state.fetchedProducts)\n  console.log('params in fe', filters.query)\n  return true\n  // if (!prods) {\n  //   // this occurs when posts are undefined.\n  //   // they dont exist\n  //   return true\n  // }\n  // if (prods.isFetching) {\n  //   return false\n  // }\n}\n\nexport const fetchProductsIfNeeded = (filters) => (dispatch, getState) => {\n  // getState() includes the selectedSubreddit and postsBySubreddit\n  // the getState arg is retreived from the state inside component\n  // at the time of this fn's execution.\n  // console.log('filters',filters);\n  if (shouldFetchProducts(getState(), filters)) {\n    // dispatch(toggleFilter(filters.config.id, filters.config.field, filters.query))\n    dispatch(fetchProducts(filters, getState().outcome))\n  }\n}","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/reducers/ProductFilterReducer.js",["98","99","100","101"],"import { combineReducers } from 'redux';\nimport {filterInfo, normalizedData} from '../filters'\n\n\nexport const filterUrl = (state = '', action) => {\n  switch (action.type) {\n    case \"URL_CHANGE\":\n      return action.url\n    default:\n      return state\n  }\n}\n\nexport const outcome = (state = {\n  isFetching: false,\n  data: [],\n  filters: filterInfo,\n  meta: {\n    limit:4,          \n    skip:0,\n    page: 1,\n    loadMore: false,\n    params: {\n      category: [],\n      brand: [],\n      finish: [],\n      hold: [],\n      hair: [],\n    }\n  },\n}, action) => {\n    switch (action.type) {\n      case 'INIT_FILTER_UI':\n        return {\n          ...state,\n          meta: {\n            ...state.meta,\n            params: {\n              ...state.meta.params,\n              ...action.urlFilters\n              }\n          },\n          filters: state.filters.map( filter => {\n            const foundField = Object.keys(action.urlFilters).find(field => \n                field === filter.field_name\n            )\n            if(foundField){\n              return{\n                ...filter,\n                filter_triggered: true,\n                input: filter.input.map((dataInput) => {\n                  // console.log('ACT FILT',action.urlFilters[filter.field_name] === dataInput.id);\n  \n                const foundInput = Array.isArray(action.urlFilters[filter.field_name]) ? \n                  action.urlFilters[filter.field_name].find((input) => input == dataInput.id) \n                  : \n                  action.urlFilters[filter.field_name] === dataInput.id;\n  \n                if(foundInput){\n                  return {\n                    ...dataInput,\n                    active: true,\n                  }\n                }\n                return dataInput\n                }),\n              }\n            }\n            return filter\n          }),\n        }\n      case 'TOGGLE_FILTER':\n      // console.log('toggle act',{...state.meta.params, [action.field]: action.deselect ? state.meta.params[action.field].splice(action.id, 1): [action.id]});\n      return {\n          ...state,\n          meta: {\n            ...state.meta,\n            params: {\n              ...state.meta.params,\n              [action.field]: action.deselect ? state.meta.params[action.field].filter(input => input != action.id)\n              : [...state.meta.params[action.field], action.id]\n            }\n          },\n          filters: state.filters.map((filter) =>{\n          if(filter.field_name === action.field){\n            return {\n              ...filter,\n              input: filter.input.map((dataInput) => {\n                if(dataInput.id === action.id){\n                  return {\n                    ...dataInput,\n                    active: action.deselect ? false : true,\n                  }\n                }\n                return dataInput\n              }),\n              filter_triggered: true\n            }\n          }\n          return filter;\n        },\n        ),\n        }\n      case 'REQUEST_PRODUCTS':\n        return {\n          ...state,\n          isFetching: true,\n        }\n      case 'RECEIVE_PRODUCTS':\n        // console.log('act in receive',Object.keys(action.meta.params)[0])\n        console.log('state parrams in recieve',state.meta.params);\n        return {\n          ...state,\n          meta: {\n            count: action.meta.count,\n            page: action.meta.loadMore ? state.meta.page + 1 : action.meta.page,\n            skip: action.meta.loadMore ? action.meta.skip + action.meta.limit: 0,\n            limit: action.meta.limit,\n            loadMore: action.meta.loadMore,\n            params: action.meta.params\n          },\n          filters: action.meta.ui,\n          isFetching: false,\n          data: action.meta.loadMore ? [...state.data, ...action.data]: action.data,\n\n      }\n      default:\n        return state\n    }\n} \n\nexport const fetchedProducts = (state = {}, action) =>{\n  switch (action.type) {\n    case 'INIT_FILTE_UI':\n    // case 'TOGGLE_FILTER':\n    // case 'REQUEST_PRODUCTS':\n    // case 'RECEIVE_PRODUCTS': \n      console.log(`%c OUTCOME FUNC. : ${action.type}, ${ action.url}`,'background: #222; color: #bada55')\n      return {\n        oldState: outcome(state[action.url], action)\n      }\n      default: \n          return state;\n\n}\n\n}\n\n\n","/Users/montialrashid/Documents/reactjs/experiments/filter-redux-test-without-url-mw/client/src/filters/index.js",[],["102","103"],{"ruleId":"104","replacedBy":"105"},{"ruleId":"106","replacedBy":"107"},{"ruleId":"108","severity":1,"message":"109","line":1,"column":8,"nodeType":"110","messageId":"111","endLine":1,"endColumn":12},{"ruleId":"108","severity":1,"message":"112","line":6,"column":10,"nodeType":"110","messageId":"111","endLine":6,"endColumn":17},{"ruleId":"108","severity":1,"message":"113","line":1,"column":37,"nodeType":"110","messageId":"111","endLine":1,"endColumn":43},{"ruleId":"108","severity":1,"message":"114","line":3,"column":8,"nodeType":"110","messageId":"111","endLine":3,"endColumn":22},{"ruleId":"108","severity":1,"message":"115","line":5,"column":9,"nodeType":"110","messageId":"111","endLine":5,"endColumn":18},{"ruleId":"108","severity":1,"message":"116","line":7,"column":46,"nodeType":"110","messageId":"111","endLine":7,"endColumn":55},{"ruleId":"108","severity":1,"message":"117","line":7,"column":57,"nodeType":"110","messageId":"111","endLine":7,"endColumn":70},{"ruleId":"108","severity":1,"message":"118","line":8,"column":28,"nodeType":"110","messageId":"111","endLine":8,"endColumn":39},{"ruleId":"108","severity":1,"message":"119","line":8,"column":41,"nodeType":"110","messageId":"111","endLine":8,"endColumn":49},{"ruleId":"108","severity":1,"message":"120","line":15,"column":5,"nodeType":"110","messageId":"111","endLine":15,"endColumn":11},{"ruleId":"108","severity":1,"message":"121","line":18,"column":7,"nodeType":"110","messageId":"111","endLine":18,"endColumn":18},{"ruleId":"108","severity":1,"message":"122","line":34,"column":10,"nodeType":"110","messageId":"111","endLine":34,"endColumn":19},{"ruleId":"108","severity":1,"message":"123","line":34,"column":30,"nodeType":"110","messageId":"111","endLine":34,"endColumn":45},{"ruleId":"124","severity":1,"message":"125","line":118,"column":41,"nodeType":"126","messageId":"127","endLine":118,"endColumn":46},{"ruleId":"128","severity":1,"message":"129","line":126,"column":6,"nodeType":"130","endLine":126,"endColumn":19,"suggestions":"131"},{"ruleId":"108","severity":1,"message":"132","line":132,"column":7,"nodeType":"110","messageId":"111","endLine":132,"endColumn":12},{"ruleId":"128","severity":1,"message":"133","line":177,"column":6,"nodeType":"130","endLine":177,"endColumn":20,"suggestions":"134"},{"ruleId":"128","severity":1,"message":"135","line":211,"column":6,"nodeType":"130","endLine":211,"endColumn":17,"suggestions":"136"},{"ruleId":"137","severity":1,"message":"138","line":325,"column":25,"nodeType":"139","messageId":"127","endLine":325,"endColumn":27},{"ruleId":"140","severity":1,"message":"141","line":332,"column":25,"nodeType":"142","endLine":335,"endColumn":31},{"ruleId":"108","severity":1,"message":"143","line":1,"column":26,"nodeType":"110","messageId":"111","endLine":1,"endColumn":32},{"ruleId":"108","severity":1,"message":"144","line":1,"column":34,"nodeType":"110","messageId":"111","endLine":1,"endColumn":37},{"ruleId":"108","severity":1,"message":"145","line":1,"column":39,"nodeType":"110","messageId":"111","endLine":1,"endColumn":43},{"ruleId":"108","severity":1,"message":"146","line":1,"column":45,"nodeType":"110","messageId":"111","endLine":1,"endColumn":49},{"ruleId":"108","severity":1,"message":"118","line":2,"column":10,"nodeType":"110","messageId":"111","endLine":2,"endColumn":21},{"ruleId":"108","severity":1,"message":"147","line":3,"column":9,"nodeType":"110","messageId":"111","endLine":3,"endColumn":30},{"ruleId":"108","severity":1,"message":"117","line":3,"column":32,"nodeType":"110","messageId":"111","endLine":3,"endColumn":45},{"ruleId":"108","severity":1,"message":"116","line":3,"column":59,"nodeType":"110","messageId":"111","endLine":3,"endColumn":68},{"ruleId":"108","severity":1,"message":"148","line":18,"column":11,"nodeType":"110","messageId":"111","endLine":18,"endColumn":24},{"ruleId":"108","severity":1,"message":"149","line":19,"column":11,"nodeType":"110","messageId":"111","endLine":19,"endColumn":17},{"ruleId":"108","severity":1,"message":"150","line":70,"column":9,"nodeType":"110","messageId":"111","endLine":70,"endColumn":14},{"ruleId":"108","severity":1,"message":"151","line":1,"column":10,"nodeType":"110","messageId":"111","endLine":1,"endColumn":25},{"ruleId":"108","severity":1,"message":"152","line":2,"column":21,"nodeType":"110","messageId":"111","endLine":2,"endColumn":35},{"ruleId":"137","severity":1,"message":"138","line":55,"column":78,"nodeType":"139","messageId":"127","endLine":55,"endColumn":80},{"ruleId":"137","severity":1,"message":"153","line":80,"column":103,"nodeType":"139","messageId":"127","endLine":80,"endColumn":105},{"ruleId":"104","replacedBy":"154"},{"ruleId":"106","replacedBy":"155"},"no-native-reassign",["156"],"no-negated-in-lhs",["157"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'connect' is defined but never used.","'useRef' is defined but never used.","'CheckboxFilter' is defined but never used.","'increment' is defined but never used.","'urlChange' is defined but never used.","'fetchProducts' is defined but never used.","'useLocation' is defined but never used.","'Redirect' is defined but never used.","'render' is assigned a value but never used.","'resetPageNo' is assigned a value but never used.","'filterUrl' is assigned a value but never used.","'fetchedProducts' is assigned a value but never used.","no-dupe-keys","Duplicate key 'limit'.","ObjectExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch', 'history', 'pageNo', 'url', and 'url1'. Either include them or remove the dependency array.","ArrayExpression",["158"],"'query' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.",["159"],"React Hook useEffect has a missing dependency: 'didMount'. Either include it or remove the dependency array.",["160"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'select' is defined but never used.","'all' is defined but never used.","'call' is defined but never used.","'fork' is defined but never used.","'fetchProductsIfNeeded' is defined but never used.","'queryToServer' is assigned a value but never used.","'pageNo' is assigned a value but never used.","'prods' is assigned a value but never used.","'combineReducers' is defined but never used.","'normalizedData' is defined but never used.","Expected '!==' and instead saw '!='.",["156"],["157"],"no-global-assign","no-unsafe-negation",{"desc":"161","fix":"162"},{"desc":"163","fix":"164"},{"desc":"165","fix":"166"},"Update the dependencies array to be: [dispatch, history, meta.params, pageNo, url, url1]",{"range":"167","text":"168"},"Update the dependencies array to be: [history, locationKeys]",{"range":"169","text":"170"},"Update the dependencies array to be: [didMount, meta.page]",{"range":"171","text":"172"},[4074,4087],"[dispatch, history, meta.params, pageNo, url, url1]",[6111,6125],"[history, locationKeys]",[6800,6811],"[didMount, meta.page]"]